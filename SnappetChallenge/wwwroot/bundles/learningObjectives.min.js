var SnappetChallenge;(function(n){var t;(function(t){var u=n.Models.UserCard,f=function(){function n(n,t){var r=this;this.learningObjectives=ko.observableArray([]);this.date=ko.observable();this.loading=ko.observable(!1);this.init=function(t){var u=n.getCurrent(),i;u.setHours(0,0,0,0);i=t.date==="today"?u:new Date(t.date);r.date(i);r.clear();r.loadData(i)};this.formattedDate=ko.computed(function(){return moment(r.date()).format("MMMM Do")});this.clear=function(){r.learningObjectives([])};this.loadData=function(n){var u=moment(n).utc().toDate(),f=moment(n).utc().add("24","hours").toDate();r.loading(!0);t.getLearningObjectives(u,f,function(n){r.learningObjectives(n.map(function(n){return new i(n)}))}).always(function(){return r.loading(!1)})}}return n}(),i,r;t.LearningObjectivesListVM=f;i=function(){function n(n){var t=this;this.name=ko.observable();this.domain=ko.observable();this.subject=ko.observable();this.averageProgress=ko.observable();this.users=ko.observableArray([]);this.expanded=ko.observable(!1);this.setData=function(n){t.name(n.name);t.domain(n.domain);t.subject(n.subject);t.averageProgress(n.averageProgress);t.users(n.users.map(function(n){return new r(n)}))};this.toggle=function(){t.expanded(!t.expanded())};this.setData(n)}return n}();t.LearningObjectiveListItemVM=i;r=function(){function n(n){var t=this;this.userId=ko.observable();this.name=ko.observable();this.overallProgress=ko.observable();this.imageId=ko.observable();this.setData=function(n){t.userId(n.userId);t.name(n.name);t.imageId(n.imageId);t.overallProgress(n.overallProgress)};this.userCardData=ko.computed(function(){return new u(t.userId(),t.name(),t.overallProgress(),"/image/"+t.imageId())});this.setData(n)}return n}();t.UserForLearningObjectivListItemVM=r})(t=n.LearningObjectives||(n.LearningObjectives={}))})(SnappetChallenge||(SnappetChallenge={})),function(n){var t;(function(t){var i=function(){function i(){this.init=function(i){var r=new t.LearningObjectivesListVM(i.dateTimeProvider,i.apiClient),u=new n.TemplateForm("classWork",r);return new n.CatalogInitResponse("learningObjectives","#/class-work/today","Class work",[new n.Route("#/class-work/:date",u)])}}return i}();if(t.LearningObjectivesCatalog=i,n.catalogRegistry)n.catalogRegistry.registerCatalog(new i);else throw new Error("CatalogRegistry service must be declared before any self registring catalogs.");})(t=n.LearningObjectives||(n.LearningObjectives={}))}(SnappetChallenge||(SnappetChallenge={}));